removeStrategy:
  rbac: SYNC
  items: NONE
items:
- kind: folder
  name: test
  description: ''
  displayName: test
  items:
  - kind: pipeline
    name: AGENTS
    concurrentBuild: true
    definition:
      cpsFlowDefinition:
        sandbox: true
        script: |
          // Uses Declarative syntax to run commands inside a container.
          pipeline {
              agent {
                  kubernetes {
                      cloud 'sc2'
                      // Rather than inline YAML, in a multibranch Pipeline you could use: yamlFile 'jenkins-pod.yaml'
                      // Or, to avoid YAML:
                      // containerTemplate {
                      //     name 'shell'
                      //     image 'ubuntu'
                      //     command 'sleep'
                      //     args 'infinity'
                      // }
                      yaml '''
          apiVersion: v1
          kind: Pod
          spec:
            containers:
            - name: shell
              image: ubuntu
              command:
              - sleep
              args:
              - infinity
          '''
                      // Can also wrap individual steps:
                      // container('shell') {
                      //     sh 'hostname'
                      // }
                      defaultContainer 'shell'
                  }
              }
              stages {
                  stage('Main') {
                      steps {
                          sh 'hostname'
                      }
                  }
              }
          }
    description: ''
    disabled: false
    displayName: AGENTS
    resumeBlocked: false
  properties:
  - envVars: {}
  - kubernetes:
      permittedClouds:
      - mysharedcloud
  - itemRestrictions:
      filter: false
